using Anvil.API;

namespace NWN.Systems
{
  public static partial class StringUtils
  {
    public static void InitializeTlkOverrides()
    {
      OverrideTlkEntry(190050, "Mélange");
      OverrideTlkEntry(190051, "Tranche-artère");
      OverrideTlkEntry(190052, "Adrénaline : 4\nAttaque à l'épée.\nInflige 5...21...25 secondes de saignement.");
      OverrideTlkEntry(190053, "Saignement");
      OverrideTlkEntry(190054, "Brûlure");
      OverrideTlkEntry(190055, "Infirmité");
      OverrideTlkEntry(190056, "Blessure profonde");
      OverrideTlkEntry(190057, "Maladie");
      OverrideTlkEntry(190058, "Empoisonnement");
      OverrideTlkEntry(190059, "Faiblesse");
      OverrideTlkEntry(190060, "Armure brisée");
      OverrideTlkEntry(190061, "Aveuglement");
      OverrideTlkEntry(190062, "Etourdissement");
      OverrideTlkEntry(190067, "Menacé");
      OverrideTlkEntry(190072, "Haut-Elfe");
      OverrideTlkEntry(190073, "Elfe des bois");
      OverrideTlkEntry(190074, "Drow");
      OverrideTlkEntry(190075, "Demi Haut-Elfe");
      OverrideTlkEntry(190076, "Demi Elfe des Bois");
      OverrideTlkEntry(190077, "Demi Drow");
      OverrideTlkEntry(190078, "Hyper-sensibilité lumineuse");
      OverrideTlkEntry(190079, "Demi Orc : Endurance Implacable");
      OverrideTlkEntry(190080, "Nain d'or");
      OverrideTlkEntry(190081, "Nain d'écu");
      OverrideTlkEntry(190082, "Duergar");
      OverrideTlkEntry(190083, "Halfelin Pied-Léger");
      OverrideTlkEntry(190084, "Halfelin Coeur-Vaillant");
      OverrideTlkEntry(190085, "Gnome des profondeurs");
      OverrideTlkEntry(190086, "Gnome des forêts");
      OverrideTlkEntry(190087, "Gnome des roches");
      OverrideTlkEntry(190088, "Tieffelin - Asmodeus");
      OverrideTlkEntry(190089, "Tieffelin - Méphisto");
      OverrideTlkEntry(190090, "Tieffelin - Zariel");
      OverrideTlkEntryAsync(190091, "1sUqHix9bOocebunN6481Ea9Qyka8cGrm9_jDneflSyo");
      OverrideTlkEntryAsync(190092, "1Eiq8eipvoCHp3gtynjwfzZhUUkQaaaJEE8bmmgBwuSs");
      OverrideTlkEntryAsync(190093, "1OPhIPceDp4BxYhHT9ewznlcWuN2svohIt_bB6RLMXQI");
      OverrideTlkEntryAsync(190094, "1Uegi0SIF00tLWQfB5kNvaNTBfoIq1Eo0vFktiAatiL0");
      OverrideTlkEntryAsync(190095, "1Zty6S_4FW7gprPWM9zyijAHD3xIeGKsUiRu9qkYSmFI");
      OverrideTlkEntryAsync(190096, "1yYb8KC3izRmxApxQj6BIQD8diUpunnzbKnpBNAitk-U");
      OverrideTlkEntryAsync(190097, "1h56nnvKQ7nZW240V-MEPkHkSd8hZ3amw7hnkKR_OHpk");
      OverrideTlkEntryAsync(190098, "12WVf_85P08bLsNlSyxSrFW24xrxjVaEm5_WRZ0w6o8I");
      OverrideTlkEntryAsync(190099, "1MQS77YVL1AFYDoeKZbTMax64AlKkt_ro5SpcFqLEDeM");
      OverrideTlkEntryAsync(190100, "19jne6SUXvG-iU20seboUSIQD8p-RFm2ZX56gQEqbt-s");
      OverrideTlkEntryAsync(190101, "1rC8V0TIIITtONIU7v3oibrCI0-sTXiMT21xBcyF21Ww");
      OverrideTlkEntryAsync(190102, "174R6FNW5dO_GxVQyqvndCm0vTnyZ6sTqlDtKVcFSklA");
      OverrideTlkEntryAsync(190103, "1m5JzqgayChh6D64b6L53AqqoJvyhjt0gLKdHhUIRh94");
      OverrideTlkEntryAsync(190104, "1Gtoy2ELVBlY1l8YaSqiFp4GUKgPbDqRyNZLFxD-7lYU");
      OverrideTlkEntryAsync(190105, "1HTCpVKh_FQqvdLfVWLy8P2--tucvL6k1ipUYngL1uto");
      OverrideTlkEntryAsync(190106, "17lww5fKedFXoigqIlyTBdyM_-Id9MRKp4qs-HkmYX-0");
      OverrideTlkEntryAsync(190107, "1lELBdXP7nR8oa_EWDh0DlMk9rtZUxtZ1vt-7Yuk8xFg");
      OverrideTlkEntryAsync(190108, "1ReBm1WQocMnbz0yKQV_cRtd73N2YwXQXvl0Iv44LAhg");
      OverrideTlkEntryAsync(190109, "1ll6A-ekXUXKj0crQrAYLRtn6HowvnXCo8JprxzKLpu8");
      OverrideTlkEntry(190110, "Protection contre les lames");
      OverrideTlkEntry(190116, "Concentration");
      OverrideTlkEntry(190119, "Nécrotique");
      OverrideTlkEntry(190120, "<CUSTOM0> Nécrotique");
      OverrideTlkEntry(190121, "Poison");
      OverrideTlkEntry(190122, "<CUSTOM0> Poison");
      OverrideTlkEntry(190123, "Psychique");
      OverrideTlkEntry(190124, "<CUSTOM0> Psychique");
      OverrideTlkEntry(190125, "Force");
      OverrideTlkEntry(190126, "<CUSTOM0> Force");
      OverrideTlkEntry(190127, "Radiant");
      OverrideTlkEntry(190128, "<CUSTOM0> Radiant");
      OverrideTlkEntry(190129, "<Tonnerre");
      OverrideTlkEntry(190130, "<CUSTOM0> Tonnerre");
      OverrideTlkEntry(190153, "LISEZ-MOI");
      OverrideTlkEntry(190154, "Les choix de races, de classe et de caractéristiques de cette partie de l'interface sont inutiles.\n\nEn jeu, un miroir vous permettra d'accéder à des options de personnalisation approfondies.\n\nIl vous faudra alors valider toutes les étapes avant que le capitaine ne vous autorise à poursuivre votre voyage.");
      OverrideTlkEntry(190155, "Les Larmes des Erylies - Editeur de personnage");
      OverrideTlkEntry(190619, "Augmentation de l'immunité aux dégâts (poison)");
      OverrideTlkEntry(190620, "Augmentation de l'immunité aux dégâts (nécrotique)");
      OverrideTlkEntry(190621, "Augmentation de l'immunité aux dégâts (psychique)");
      OverrideTlkEntry(190807, "Terrain Difficile");
      OverrideTlkEntry(191025, "Glacé");

      foreach (var entry in Feats2da.featTable)
      {
        if((entry.spellId < 0 || entry.RowIndex == 1488 || entry.RowIndex == 1463) 
          && SkillSystem.learnableDictionary.TryGetValue(entry.RowIndex, out var learnable) && learnable is LearnableSkill)
        {
          StrRef name = entry.nameTlkEntry;
          name.Override = learnable.name;
          StrRef description = entry.descriptionTlkEntry;
          description.Override = learnable.description;
        }
      }
    }

    private static void OverrideTlkEntry(uint entry, string text)
    {
      StrRef.FromCustomTlk(entry).Override = text;
    }
    private static async void OverrideTlkEntryAsync(uint entry, string text)
    {
      StrRef.FromCustomTlk(entry).Override = await DownloadGoogleDoc(text);
    }
  }
}
